{% extends 'components/layout.swig.html' %}

{% block css %}
	<link rel="stylesheet" href="{{ assetPrefix }}/plugins/owl-carousel/owl-carousel/owl.carousel.css">
	<link rel="stylesheet" href="{{ assetPrefix }}/plugins/revolution-slider/rs-plugin/css/settings.css">
{% endblock %}

{% block content %}
	<!--=== Slider ===-->
	<div id="slider" class="tp-banner-container">
		<div class="tp-banner">
			<ul>
				{% if featuredAddons.length === 0 %}
					<li class="revolution-mch-1" data-transition="fade" data-slotamount="5" data-masterspeed="1000"
				    data-title="Slide 1">
					<!-- MAIN IMAGE -->
					<img src="{{ assetPrefix }}/img/noaddons.jpg" alt="darkblurbg"
					     data-bgfit="cover" data-bgposition="left top"
					     data-bgrepeat="no-repeat">

					<div class="tp-caption revolution-ch1 sft start"
					     data-x="center"
					     data-hoffset="0"
					     data-y="100"
					     data-speed="1500"
					     data-start="500"
					     data-easing="Back.easeInOut"
					     data-endeasing="Power1.easeIn"
					     data-endspeed="300">
						No Featured Addons<br>
						{#<strong>Addons</strong><br>#}
						Submit Yours Now
					</div>

					<!-- LAYER -->
					<div class="tp-caption sft"
					     data-x="center"
					     data-hoffset="0"
					     data-y="380"
					     data-speed="1600"
					     data-start="1800"
					     data-easing="Power4.easeOut"
					     data-endspeed="300"
					     data-endeasing="Power1.easeIn"
					     data-captionhidden="off"
					     style="z-index: 6">
						<a href="/profile/addons/create" class="btn-u btn-brd btn-brd-hover btn-u-light">Create Addon</a>
					</div>
				</li>
				{% else %}
					{% for index,addon in featuredAddons %}
						{#{% if index % 2 === 0%}#}
							<li class="revolution-mch-1" data-transition="fade" data-slotamount="5" data-masterspeed="1000"
						    data-title="Slide 2">
							<!-- MAIN IMAGE -->
							<img src="/addons/{{ addon.id }}/artwork/{{ addon.bannerImage }}" alt="darkblurbg" data-bgfit="cover"
							     data-bgposition="left top"
							     data-bgrepeat="no-repeat">

							<div class="tp-caption revolution-ch3 sft start"
							     data-x="center"
							     data-hoffset="0"
							     data-y="140"
							     data-speed="1500"
							     data-start="500"
							     data-easing="Back.easeInOut"
							     data-endeasing="Power1.easeIn"
							     data-endspeed="300">
								{{ addon.name }}
							</div>

							<!-- LAYER -->
							<div class="tp-caption revolution-ch4 sft"
							     data-x="center"
							     data-hoffset="-14"
							     data-y="210"
							     data-speed="1400"
							     data-start="2000"
							     data-easing="Power4.easeOut"
							     data-endspeed="300"
							     data-endeasing="Power1.easeIn"
							     data-captionhidden="off"
							     style="z-index: 6">
								{{ addon.shortDescription }}
							</div>

							<!-- LAYER -->
							<div class="tp-caption sft"
							     data-x="center"
							     data-hoffset="0"
							     data-y="300"
							     data-speed="1600"
							     data-start="1800"
							     data-easing="Power4.easeOut"
							     data-endspeed="300"
							     data-endeasing="Power1.easeIn"
							     data-captionhidden="off"
							     style="z-index: 6">
								<a href="/addons/{{ addon.id }}" class="btn-u btn-brd btn-brd-hover btn-u-light">Take a Look</a>
							</div>
						</li>
						{#{% else %}#}
							{#<li class="revolution-mch-1" data-transition="fade" data-slotamount="5" data-masterspeed="1000"#}
							    {#data-title="Slide 5">#}
								{#<!-- MAIN IMAGE -->#}
								{#<img src="//placehold.it/1920x720&text=I+Am+The+Last+One+lol" alt="darkblurbg" data-bgfit="cover"#}
								     {#data-bgposition="right top"#}
								     {#data-bgrepeat="no-repeat">#}

								{#<div class="tp-caption revolution-ch5 sft start"#}
								     {#data-x="right"#}
								     {#data-hoffset="5"#}
								     {#data-y="130"#}
								     {#data-speed="1500"#}
								     {#data-start="500"#}
								     {#data-easing="Back.easeInOut"#}
								     {#data-endeasing="Power1.easeIn"#}
								     {#data-endspeed="300">#}
									{#{{ addon.name }}#}
								{#</div>#}

								{#<!-- LAYER -->#}
								{#<div class="tp-caption revolution-ch4 sft"#}
								     {#data-x="right"#}
								     {#data-hoffset="-14"#}
								     {#data-y="210"#}
								     {#data-speed="1400"#}
								     {#data-start="2000"#}
								     {#data-easing="Power4.easeOut"#}
								     {#data-endspeed="300"#}
								     {#data-endeasing="Power1.easeIn"#}
								     {#data-captionhidden="off"#}
								     {#style="z-index: 6">#}
									{#{{ addon.shortDescription }}#}
								{#</div>#}

								{#<!-- LAYER -->#}
								{#<div class="tp-caption sft"#}
								     {#data-x="right"#}
								     {#data-hoffset="0"#}
								     {#data-y="300"#}
								     {#data-speed="1600"#}
								     {#data-start="2800"#}
								     {#data-easing="Power4.easeOut"#}
								     {#data-endspeed="300"#}
								     {#data-endeasing="Power1.easeIn"#}
								     {#data-captionhidden="off"#}
								     {#style="z-index: 6">#}
									{#<a href="/addons/{{ addon.id }}" class="btn-u btn-brd btn-brd-hover btn-u-light">Take a Look</a>#}
								{#</div>#}
							{#</li>#}
						{#{% endif %}#}
					{% endfor %}
				{% endif %}
			</ul>
			<div class="tp-bannertimer tp-bottom"></div>
		</div>
	</div>

	<div class="container content-md">
		<div class="row margin-bottom-50">
			{% include 'components/flashhandler.swig.html' %}

			{% if popularTags.length > 0 %}
				{% include 'components/home/populartags.swig.html' %}
			{% endif %}
		</div>

		{% if featuredAddons.length > 0 %}
			{% include 'components/home/featuredaddons.swig.html' %}
		{% endif %}

		{% if latestAddons.length > 0 %}
			{% include 'components/home/latestaddons.swig.html' %}
		{% endif %}
	</div>
{% endblock %}

{% block scripts %}
	<script async src="{{ assetPrefix }}/plugins/jquery.parallax.js"></script>

	<script async src="{{ assetPrefix }}/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script>
	<script async src="{{ assetPrefix }}/plugins/revolution-slider/rs-plugin/js/jquery.themepunch.tools.min.js"></script>
	<script async src="{{ assetPrefix }}/plugins/revolution-slider/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
	<!-- JS Page Level -->
	<script async src="{{ assetPrefix }}/js/plugins/owl-carousel.js"></script>
	<script async src="{{ assetPrefix }}/js/plugins/revolution-slider.js"></script>
	<script async>
		jQuery(document).ready(function () {
			RevolutionSlider.initRSfullWidth();
			OwlCarousel.initOwlCarousel();
			$("#slider").fadeIn();
		});
	</script>
{% endblock %}
